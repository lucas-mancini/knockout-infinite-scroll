<!DOCTYPE html>
<html>
    <head>
        <title>Ascii Warehouse</title>

        <link rel="stylesheet" type="text/css" href="css/main.css" />
    </head>

    <body>
        <header>
            <h1>Knockout infinite scroll</h1>

            <p>Here you're sure to find a bargain on some of the finest ascii available to purchase. Be sure to peruse our selection of ascii faces in an exciting range of sizes and prices.</p>

            <p>But first, a word from our sponsors:</p> <script>document.write('<img class="ad" src="/ad/?r=' + Math.floor(Math.random() * 1000) + '"/>');</script>
        </header>

        <section class="sorting-setting">
            Preferred method of sorting:
            <label>
                <input type="radio" name="sortingOption" value="size" data-bind="checked: sortingParameter, click: initialProductLoad" checked />By size
            </label>
            <label>
                <input type="radio" name="sortingOption" value="price" data-bind="checked: sortingParameter, click: initialProductLoad" />By price
            </label>
            <label>
                <input type="radio" name="sortingOption" value="id" data-bind="checked: sortingParameter, click: initialProductLoad" />By id
            </label>
        </section>

        <section class="products">
            <table>
                <thead>
                    <th>Id</th>
                    <th>ASCII Face</th>
                    <th>Price</th>
                    <th>Date</th>
                </thead>
                <tbody data-bind="foreach: products">
                    <tr data-bind="if: !isAd()">
                        <td data-bind="text: id" />
                        <td data-bind="text: face, style: { fontSize: fontSize() }" />
                        <td data-bind="text: formattedPrice" />
                        <td data-bind="text: formattedDate" />
                    </tr>
                    <!-- if the product is tagged as an advertisement, add some markup to display it --> 
                    <tr data-bind="if: isAd()">
                        <td colspan="4">
                            <img data-bind="attr: { src: '/ad/?r=' + id() }" />
                        </td>
                    </tr>
                </tbody>
            </table> 
            <image class="preloader" id="preloader" src="images/preloader.gif" alt="Animated loading message" />
            <h3 class="end-catalogue" id="end-catalogue">~ end of catalogue ~</h3>
        </section>

        <script type='text/javascript' src='js/nanoajax.min.js'></script>
        <script type='text/javascript' src='js/knockout-3.3.0.js'></script>
        <script type='text/javascript' src='js/ProductsViewModel.js'></script>
        <script type='text/javascript' src='js/main.js'></script>
    </body>
</html>
